//------------------------------------------------------------------------------
// Colorwheel by TEK
//
// http://plus4world.powweb.com/software/Colorwheel
//
// Converted to K65 by zbyti
//------------------------------------------------------------------------------

var e0=0xE0, e1, e2, e3, e4, e5

var TED_14=0xFF14

main {
  TED_14=a=0x78
  {
    e1=a=&>table e3=a=0x78 e5=a=0x7C
    {
      {
        a=x a+(e0),y (e2),y=a (e4),y=a=0xA0 y++
      } !=
      e1++ e3++ e5++
    } >=0
    x--
  } always
}

//------------------------------------------------------------------------------
// Basic table generator
// 1 I=8192:FORY=-13TO12:FORX=-20.5TO19:POKEI,(12*SQR(X*X+Y*Y)AND 240)+(16*ATN(Y/X)AND15):I=I+1:NEXTX,Y
//------------------------------------------------------------------------------
// I=8192
// FOR Y=-13 TO 12
//   FOR X = -20.5 TO 19
//     POKE I,(12*SQR(X*X+Y*Y) AND 240) + (16*ATN(Y/X) AND 15)
//     I=I+1
//   NEXT X
// NEXT Y
//------------------------------------------------------------------------------

data table {
  address 0x2000
  binary "table.bin"
}

//------------------------------------------------------------------------------